/* To make this, enable "One Column" option in SumoDB, copy & paste the tables 
 * as plain text and then turn them into array like this.
 */
var theSekitori = [
  "Y1e Terunofuji 2-5-8", 
  "O1e Kirishima 5-10", 
  "O1w Hoshoryu 11-4 J", 
  "O2e Takakeisho 8-6-1", 
  "O2w Kotonowaka 10-5", 
  "S1e Daieisho 6-9", 
  "S1w Wakamotoharu 9-6", 
  "K1e Abi 9-6", 
  "K1w Nishikigi 3-12", 
  "M1e Ura 6-9", 
  "M1w Asanoyama 9-6", 
  "M2e Atamifuji 8-7", 
  "M2w Meisei 6-9", 
  "M3e Oho 7-8", 
  "M3w Takanosho 5-10", 
  "M4e Tobizaru 8-7", 
  "M4w Hiradoumi 9-6", 
  "M5e Midorifuji 7-8", 
  "M5w Onosato 11-4 J..", 
  "M6e Tsurugisho 2-3-10", 
  "M6w Gonoyama 10-5", 
  "M7e Kinbozan 6-7-2", 
  "M7w Tamawashi 7-8", 
  "M8e Onosho 9-6", 
  "M8w Takayasu 11-4 J", 
  "M9e Hokutofuji 6-9", 
  "M9w Kotoshoho 8-7", 
  "M10e Shodai 8-7", 
  "M10w Mitakeumi 9-6", 
  "M11e Ichiyamamoto 7-8", 
  "M11w Sadanoumi 8-7", 
  "M12e Shonannoumi 9-6", 
  "M12w Shimazuumi 0-4-11", 
  "M13e Ryuden 6-9", 
  "M13w Churanoumi 7-8", 
  "M14e Nishikifuji 8-7", 
  "M14w Kitanowaka 3-12", 
  "M15e Myogiryu 6-9", 
  "M15w Roga 7-8", 
  "M16e Endo 5-10", 
  "M16w Daiamami 7-8", 
  "M17e Takerufuji 13-2 Y...", 
  "J1e Tokihayate 8-7", 
  "J1w Takarafuji 8-7", 
  "J2e Tohakuryu 6-9", 
  "J2w Mitoryu 12-3 Y", 
  "J3e Hokuseiho 0-0", 
  "J3w Tomokaze 9-6", 
  "J4e Kagayaki 7-8", 
  "J4w Oshoma 11-4", 
  "J5e Bushozan 9-6", 
  "J5w Shirokuma 7-6-2", 
  "J6e Hakuyozan 4-11", 
  "J6w Chiyoshoma 9-6", 
  "J7e Hidenoumi 7-8", 
  "J7w Daishoho 10-5", 
  "J8e Asakoryu 9-6", 
  "J8w Shishi 8-7", 
  "J9e Shimanoumi 5-10", 
  "J9w Tamashoho 6-9", 
  "J10e Shiden 7-8", 
  "J10w Wakatakakage 9-6", 
  "J11e Oshoumi 6-9", 
  "J11w Aoiyama 7-8", 
  "J12e Kotoeko 1-14", 
  "J12w Tsushimanada 7-8", 
  "J13e Akua 6-9", 
  "J13w Hakuoho 8-7", 
  "J14e Kitaharima 4-11", 
  "J14w Chiyosakae 8-7", 
  "Ms1e Chiyomaru 4-3", 
  "Ms1w Tenshoho 3-5", 
  "Ms2e Yuma 2-5", 
  "Ms2w Onokatsu 5-2", 
  "Ms3e Tochimusashi 0-0-7", 
  "Ms3w Kayo 4-3", 
  "Ms4e Kitadaichi 3-4", 
  "Ms4w Tsukahara 5-2", 
  "Ms5e Kotodaigo 0-6-1", 
  "Ms5w Nabatame 4-3", 
  "Ms6e Kototebakari 5-2", 
  "Ms6w Hokutomaru 3-4", 
  "Ms7e Satorufuji 3-4", 
  "Ms7w Kotokuzan 4-3", 
  "Ms8e Daishomaru 4-3", 
  "Ms8w Kiryuko 5-2", 
  "Ms9e Dewanoryu 2-5", 
  "Ms9w Tokunomusashi 4-3", 
  "Ms10e Wakaikari 4-3", 
  "Ms10w Hananoumi 2-4-1", 
  "Ms11e Hokutenkai 3-4", 
  "Ms11w Chiyonoumi 4-3", 
  "Ms12e Miyagi 4-3", 
  "Ms12w Mudoho 3-4", 
  "Ms13e Daiseizan 6-1", 
  "Ms13w Kazekeno 7-0 Y", 
  "Ms14e Kotoyusho 2-4-1", 
  "Ms14w Fujiseiun 4-3", 
  "Ms15e Kairyu 3-4", 
  "Ms15w Otsuji 5-2", 
  "Ms17w Haruyama 5-2", 
  "Ms19e Mineyaiba 4-3", 
  "Ms20e Yago 5-2", 
  "Ms20w Kotokenryu 4-3", 
  "Ms21e Hitoshi 5-2", 
  "Ms22w Yoshii 6-1", 
  "Ms23e Narutaki 4-3", 
  "Ms23w Kaisho 5-2", 
  "Ms24w Obara 5-2", 
  "Ms26w Asanowaka 4-3", 
  "Ms27e Asahakuryu 6-1", 
  "Ms28e Kanzaki 4-3", 
  "Ms28w Tanji 4-3", 
  "Ms30w Fujitoshi 4-3", 
  "Ms31w Tsurubayashi 4-3", 
  "Ms33w Tochikodai 4-3", 
  "Ms34e Ryusei 4-3", 
  "Ms34w Wakanosho 5-2", 
  "Ms37e Tochiseiryu 4-3", 
  "Ms38w Hamayutaka 5-2", 
  "Ms39e Yoshiyasu 5-2", 
  "Ms40e Asakoki 5-2", 
  "Ms41e Shiroma 4-3", 
  "Ms41w Kotoozutsu 4-3", 
  "Ms43e Wakatakamoto 6-1", 
  "Ms44e Asonoyama 5-2", 
  "Ms46w Sazanami 4-3", 
  "Ms47e Oshoryu 4-3", 
  "Ms47w Kirinryu 4-3", 
  "Ms48e Anosho 5-2", 
  "Ms49e Suzaki 4-3", 
  "Ms49w Kazuto 4-3", 
  "Ms51w Nihonyanagi 5-2", 
  "Ms52e Daishoryu 5-2", 
  "Ms54e Kaizen 4-3", 
  "Ms54w Kaigo 5-2", 
  "Ms55w Kyokutaisei 6-1", 
  "Ms56e Takashoki 4-3", 
  "Ms57w Kotodairyu 5-2", 
  "Ms58e Onojo 4-3", 
  "Ms58w Kainoshima 4-3", 
  "Ms59w Kaiseijo 4-3", 
  "Ms60w Tosamidori 6-1", 
  "Ms60TD Matsui 5-2", 
  "Sd3w Nagamura 7-0 Y", 
];

/* Add here the shikona of retired sekitori, who will not appear in the
 * following banzuke. If nobody retired then leave this array empty
 */
var retiredRikishi = ["Hokuseiho"];

/* Enable "No Rank Colouring" and "One Column" options and then open the
 * browser's inspector (F12). Find the table and copy & paste the <tbody> node.
 * The rikishi ID is located right after "Rikishi.aspx?r=". Turn the IDs into an
 * array (add the empty spots as 0). This array should have the same length as
 * theSekitori array.
 */
var sekitoriID = [
  11927,
  12231,
  12451,
  12191,
  12270,
  11985,
  11980,
  12094,
  6596,
  12226,
  12291,
  12664,
  11946,
  12453,
  11855,
  12203,
  12314,
  12352,
  12836,
  12113,
  12688,
  12721,
  5944,
  12043,
  6480,
  12239,
  12449,
  12130,
  12210,
  12362,
  2879,
  12162,
  12013,
  6594,
  12320,
  12351,
  12548,
  11784,
  12516,
  12055,
  12273,
  12780,
  12542,
  11728,
  12575,
  12406,
  12646,
  12427,
  11845,
  12717,
  12117,
  12773,
  11943,
  11785,
  12026,
  12040,
  12710,
  12599,
  12024,
  11976,
  12141,
  12370,
  12634,
  11786,
  7153,
  12342,
  11918,
  12796,
  1241,
  11736,
  7240,
  12709,
  12165,
  12840,
  12674,
  12774,
  12155,
  12448,
  11949,
  12597,
  12729,
  12519,
  12793,
  11809,
  12144,
  12711,
  12592,
  12333,
  12800,
  12727,
  12585,
  12255,
  12713,
  12593,
  12725,
  12767,
  12319,
  12702,
  6506,
  12561,
  12832,
  12557,
  12425,
  12724,
  12704,
  12536,
  12357,
  12075,
  12220,
  12484,
  12784,
  12733,
  12751,
  12703,
  11755,
  12373,
  2892,
  12730,
  12132,
  11936,
  12379,
  11743,
  12833,
  12316,
  11814,
  12458,
  12225,
  12587,
  12604,
  12834,
  12612,
  12776,
  12594,
  12698,
  12279,
  12488,
  8899,
  12692,
  11759,
  11942,
  12372,
  12137,
  12263,
  12876,
  12795,
];

class Rikishi {
  constructor(rank, name, winCount, id) {
    this.rank = rank;
    this.name = name;
    this.winCount = winCount;
    this.id = id;
  }

  getLink() {
    return `<a href="https://sumodb.sumogames.de/Rikishi.aspx?r=${this.id}" target="_blank">${this.name}</a>`;
  }

  getRecordLink(basho) {
    return `<a href="https://sumodb.sumogames.de/Rikishi_basho.aspx?r=${this.id}&b=${basho}" target="_blank">${this.winCount}</a>`;
  }

  createCard(basho) {
    const card = document.createElement("div");
    const wins = this.winCount.split("-")[0];
    card.id = this.rank;
    card.className = "redips-drag se";
    card.setAttribute("data-w", this.rank.startsWith("Ms") || this.rank.startsWith("Sd") || this.rank.startsWith("Jd") || this.rank.startsWith("Jk") ? wins * 2 : wins);
    card.setAttribute("data-re", this.winCount);
    card.innerHTML = this.getLink(basho);
    return card;
  }
}

class RetiredRikishi extends Rikishi {
  constructor(rank, name, winCount, id) {
    super(rank, name, winCount, id);
  }

  createCard(basho) {
    const card = super.createCard(basho);
    card.style.backgroundColor = "rgb(203, 203, 203)";
    card.className = "redips-drag intai";
    card.setAttribute("title", "Retired");
    return card;
  }
}

export const allRikishi = theSekitori.map((rikishiString, index) => {
  const [rank, name, winCount] = rikishiString.split(' ');
  const id = sekitoriID[index];
  if (retiredRikishi.includes(name)) {
    return new RetiredRikishi(rank, name, winCount, id);
  }
  return new Rikishi(rank, name, winCount, id);
});
